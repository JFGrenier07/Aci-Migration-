---
# Exemple de configuration pour l'extraction EPG
#
# Ce fichier montre différents scénarios d'utilisation

# =============================================================================
# EXEMPLE 1: Migration simple - Quelques EPG spécifiques
# =============================================================================

epgs:
  # EPG Web (tenant Production)
  - tenant: Production
    ap: WebApp
    epg: Frontend_EPG

  # EPG Application (tenant Production)
  - tenant: Production
    ap: WebApp
    epg: Backend_EPG

  # EPG Base de données (tenant Production)
  - tenant: Production
    ap: WebApp
    epg: Database_EPG

# =============================================================================
# EXEMPLE 2: Migration multi-tenants
# =============================================================================

# epgs:
#   # Tenant Production
#   - tenant: Production
#     ap: App1
#     epg: Web_EPG
#
#   - tenant: Production
#     ap: App2
#     epg: API_EPG
#
#   # Tenant Development
#   - tenant: Development
#     ap: DevApp
#     epg: Test_EPG
#
#   # Tenant DMZ
#   - tenant: DMZ
#     ap: PublicServices
#     epg: WebServer_EPG

# =============================================================================
# EXEMPLE 3: Migration d'une application complète
# =============================================================================

# epgs:
#   # Application E-Commerce - Toutes les couches
#   - tenant: Production
#     ap: ECommerce
#     epg: WebFrontend_EPG
#
#   - tenant: Production
#     ap: ECommerce
#     epg: AppServer_EPG
#
#   - tenant: Production
#     ap: ECommerce
#     epg: Database_EPG
#
#   - tenant: Production
#     ap: ECommerce
#     epg: Cache_EPG
#
#   - tenant: Production
#     ap: ECommerce
#     epg: Storage_EPG

# =============================================================================
# EXEMPLE 4: Migration avec L3Out
# =============================================================================

# epgs:
#   # EPG avec connexion externe (L3Out)
#   - tenant: Production
#     ap: InternetFacing
#     epg: PublicWeb_EPG
#
#   - tenant: Production
#     ap: InternetFacing
#     epg: VPN_EPG

# =============================================================================
# EXEMPLE 5: Migration de test/développement vers production
# =============================================================================

# epgs:
#   # Environnement Development (à migrer vers Production)
#   - tenant: Development
#     ap: NewApp
#     epg: Web_EPG
#
#   - tenant: Development
#     ap: NewApp
#     epg: App_EPG
#
#   - tenant: Development
#     ap: NewApp
#     epg: DB_EPG

# =============================================================================
# NOTES D'UTILISATION
# =============================================================================
#
# 1. Décommentez l'exemple qui correspond à votre besoin
# 2. Modifiez les valeurs tenant/ap/epg selon votre environnement
# 3. Exécutez: python3 extract_epg_migration.py
#
# Le script extraira automatiquement:
# - Les EPG listés
# - Les Bridge Domains liés
# - Les Domains (Physical, L3) liés
# - Les VLAN Pools utilisés
# - Les AEP attachés
# - Les VRFs, AP, Tenants parents
# - Toutes les relations entre ces objets
#
# Résultat:
# - CSV dans migration/csv_out/
# - Excel dans migration/epg_migration.xlsx

# =============================================================================
# VALIDATION DES NOMS
# =============================================================================
#
# ⚠️ IMPORTANT: Les noms doivent correspondre EXACTEMENT à ceux dans l'ACI
#
# Pour trouver les noms exacts:
# 1. Connectez-vous à l'APIC GUI
# 2. Naviguez vers: Tenants > [Tenant] > Application Profiles > [AP] > Application EPGs
# 3. Notez les noms exacts (sensibles à la casse)
#
# Ou utilisez l'API:
# https://<apic>/api/node/class/fvAEPg.json
